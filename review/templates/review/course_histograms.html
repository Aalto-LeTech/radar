{% extends 'base.html' %}
{% block content %}

<ul>
	{% for exercise in exercises %}
	<li>
		<p><a href="{% url 'review.views.exercise' course_key=course.key exercise_key=exercise.key %}">{{ exercise.name }}:
		Submissions {{ exercise.submissions.count }} ({{ exercise.matched_submissions.count }} matched)</a></p>
		<div class="histogram">
			<pre class="json">{{ exercise.submissions_max_similarity_json }}</pre>
		</div>
	</li>
	{% endfor %}
</ul>

<pre id="js" class="well">
Waiting for Javascript...
</pre>
<script>
$(function() {
	var js = new JS();
	$("div.histogram").each(function() {
		var similarity = js.parseJSON($(this).find("pre.json"));
		js.buildHeat(similarity);
		js.histogram($(this), similarity, 600, 130);
	});
});
</script>

{% endblock %}
