{% extends 'base.html' %}
{% block content %}

<h4>Match Groups</h4>

<form method="post" action="{% url 'review.views.exercise_setup' course_name=course.name exercise_name=exercise.name %}" class="form-inline">
	<input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
	<div class="form-group">
		<label for="ratio">Highest student ratio to list</label>
		<input type="text" id="ratio" name="ratio" value="{{ exercise.tolerance }}" size="3">
	</div>
	<button class="btn btn-default">Update</button>
</form>

<table class="table">
	<tr>
		<th>Student count (ratio of all)</th>
		<th>Average grade</th>
		<th>Max tokens</th>
	</tr>
	{% for group in groups %}
	<tr>
		<td>
			<a href="{% url 'review.views.group' course_name=course.name exercise_name=exercise.name g_id=group.pk %}">
				{{ group.size }} ({{ group.ratio|floatformat:1 }})
			</a>
		</td>
		<td>{{ group.average_grade }}</td>
		<td>{{ group.length }}</td>
	</tr>
	{% endfor %}
</table>

{% endblock %}
